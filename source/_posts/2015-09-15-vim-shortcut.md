title: vim快捷键
date: 2015-09-15 11:25:40
tags: [vim]
---
整理一下用过的vim快捷键。有些平时不太用，但用到就比较捉急，也算温故知新吧。
<!--more-->


## 常用快捷键
1. `<c-o> a` 插入模式下到行尾继续输入(相当于end键)
   `<c-o> i` 插入模式下到行首继续输入(相当于home键)
1. `h`  跳转到屏幕顶端（如果设置了set so=n，则跳转到第n行） 
   `l`  跳转到屏幕底端（如果设置了set so=n，则跳转到倒数第n行）
   `zz` 光标下内容在屏幕中央
1. gd 选中单词并高亮
1. j 将下一行提到这行来 (join line)
1. r 替换单个字符     R 替换多个字符
1. i 插入，i 第一个非空白字符前插入
   o  当前行后插入一新行   o 当前行前插入一新行
1. dd删除行，dw删除单词   ndd   ndw     
   c与d类似，但删除后进入插入模式    
1. S删除一行，并进入插入模式
1. x删除字符     s删除字符后进入插入模式
1. w:  go to the start of the following [w]ord
   b:  go to the [b]eginning of this word
   e:  go to the [e]nd of this word
   t+字符 跳到此行第一个出现此字符的地方
1. ~按字符大小写转换   gu转换为小写   gU转换为大写     gU3w转换3个单词


## 查找
1. `/xxx(?xxx)` 表示在整篇文档中搜索匹配xxx的字符串, / 表示向下查找, ? 表示 向上查找.其中xxx可以是正规表达式,关于正规式就不多说了.  一般来说是区分大小写的, 要想不区分大小写, 那得先输入 :set ignorecase 查找到以后, 再输入 n 查找下一个匹配处, 输入 N 反方向查找.
1. `*(#)` 当光标停留在某个单词上时, 输入这条命令表示查找与该单词匹配的 下(上)一个单词. 同样, 再输入n查找下一个匹配处, 输入 N 反方 向查找.
1. `g*(g#)` 此命令与上条命令相似, 只不过它不完全匹配光标所在处的单词, 而是匹配包含该单词的所有字符串.
1. `gd` 本命令查找与光标所在单词相匹配的单词, 并将光标停留在文档的非 注释段中第一次出现这个单词的地方.
1. `%` 本命令查找与光标所在处相匹配的反括号, 包括 () [] {}
1. `f(F)x` 本命令表示在光标所在行进行查找, 查找光标右(左)方第一个x字符.  找到后: 输入 ; 表示继续往下找 输入 , 表示反方向查找

## 快速移动光标
1. `w(e)` 移动光标到下一个单词.
1. `b`    移动光标到上一个单词.
1. `0`    移动光标到本行最开头.
1. `^`    移动光标到本行最开头的字符处.
1. `$`    移动光标到本行结尾处.
1. `H`    移动光标到屏幕的首行.
1. `M`    移动光标到屏幕的中间一行.
1. `L`    移动光标到屏幕的尾行.
1. `gg`   移动光标到文档首行.
1. `G`    移动光标到文档尾行.
1. `c-f`  (即 ctrl 键与 f 键一同按下) 本命令即 page down.
1. `c-b`  (即 ctrl 键与 b 键一同按下, 后同) 本命令即 page up.
1. `''`   此命令相当有用, 它移动光标到上一个标记处, 比如用 gd, * 等查 找到某个单词后, 再输入此.
1. `'.`   此命令相当好使, 它移动光标到上一次的修改行
1. ``.`   此命令相当强大, 它移动光标到上一次的修改点.

## 拷贝, 删除与粘贴
1. `yw`  表示拷贝从当前光标到光标所在单词结尾的内容.
1. `dw`  表示删除从当前光标到光标所在单词结尾的内容.
1. `y0`  表示拷贝从当前光标到光标所在行首的内容.
1. `d0`  表示删除从当前光标到光标所在行首的内容.
1. `y$`  表示拷贝从当前光标到光标所在行尾的内容.
1. `d$`  表示删除从当前光标到光标所在行尾的内容.
1. `yfa` 表示拷贝从当前光标到光标后面的第一个a字符之间的内容.
1. `dfa` 表示删除从当前光标到光标后面的第一个a字符之间的内容.
1. `yy`  表示拷贝光标所在行.
1. `dd`  表示删除光标所在行.
1. `D`   表示删除从当前光标到光标所在行尾的内容.表示删除从当前光标到光标所在行尾的内容
1. `c`   c与d类似，只是删除后进入编辑模式
1. `x`   删除单个字符
1. `s`   与x类似，删除后进入编辑模式

## 数字与命令
在 vi 中数字与命令结合往往表示重复进行此命令, 若在扩展模式的开头出现则表示行号定位. 如:
1. `5fx`     表示查找光标后第5个x字符.
1. `5w(e)`   移动光标到下五个单词.
1. `5yy`     表示拷贝光标以下5行.
1. `5dd`     表示删除光标以下5行.
1. `y2fa`    表示拷贝从当前光标到光标后面的第二个a字符之间的内容.
1. `:12,24y` 表示拷贝第12行到第24行之间的内容.
1. `:12,y`   表示拷贝第12行到光标所在行之间的内容.
1. `:,24y`   表示拷贝光标所在行到第24行之间的内容. 删除类似.

## 快速输入字符
1. `c-p(c-n)` 在编辑模式中, 输入几个字符后再输入此命令则 vi 开始向上(下)搜索开头与其匹配的单词并补齐, 不断输入此命令则循环查找. 此命令会在所有在这个 vim 程序中打开的文件中进行匹配.
1. `c-x-l`    在编辑模式中, 此命令快速补齐整行内容, 但是仅在本窗口中出现的文档中进行匹配.
1. `c-x-f`    在编辑模式中, 这个命令表示补齐文件名. 如输入:/usr/local/tom 后再输入此命令则它会自动匹配出:/usr/local/tomcat/
1. `abbr`     即缩写. 这是一个宏操作, 可以在编辑模式中用一个缩写代替另一个字符串. 比如编写java文件的常常输入 System.out.println, 这很 是麻烦, 所以应该用缩写来减少敲字. 可以这么做:abbr sprt System.out.println,以后在输入sprt后再输入其他非字母符号, 它就会自动扩展为System.out.println

## 替换
替换是 vi 的强项, 因为可以用正规表达式来匹配字符串.以下提供几个例子.
1. `:s/aa/bb/g`      将光标所在行出现的所有包含 aa 的字符串中的 aa 替换为 bb
1. `:s/\/bb/g`       将光标所在行出现的所有 aa 替换为 bb, 仅替换 aa 这个单词
1. `:%s/aa/bb/g`     将文档中出现的所有包含 aa 的字符串中的 aa 替换为 bb
1. `:12,23s/aa/bb/g` 将从12行到23行中出现的所有包含 aa 的字符串中的 aa 替换为 bb
1. `:12,23s/^/#/`    将从12行到23行的行首加入 # 字符
1. `:%s= *$==`       将所有行尾多余的空格删除
1. `:g/^\s*$/d`      将所有不包含字符(空格也不包含)的空行删除.

## 折叠
1. `zf` F-old creation 创建折叠 
    * `zfgg` 从当前行折叠到文件头
    * `zf20G` 从当前行折叠到第20行 
    * `10zf+` 从当前行向下折叠10行
    * `10zf-` 从当前行向上折叠10行
1. `zo` O-pen a fold   打开折叠
1. `zc` C-lose a fold  关闭折叠
1. `zr` 关闭所有折叠
1. `zm` 打开所有折叠
1. `set foldmethod=()` 设置折叠方式
    * manual 手工定义
    * indent 根据缩进
    * expr   根据表达式
    * syntax 根据语法高亮
    * diff   对没有更改的文本进行折叠
    * marker 根据文中标志折叠

## 寄存器：
1. `"{a-zA-Z}yy`  保存到对应寄存器中
1. `"{a-zA-Z}p`   粘贴对应寄存器中内容
1. `:reg`或`:dis` 查看寄存器内容
1. 插入模式下使用寄存器: `<C-r>`+寄存器


## 参考
* [折叠](http://www.cnblogs.com/fstang/archive/2012/11/28/2793171.html)

